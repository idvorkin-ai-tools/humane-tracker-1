{"ast":null,"code":"import _objectSpread from\"/Users/idvorkin/gits/humane-tracker-1/humane-tracker/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{HabitService}from'../services/habitService';import{HabitManager}from'./HabitManager';import{InitializeHabits}from'./InitializeHabits';import{DEFAULT_HABITS}from'../data/defaultHabits';import{format,addDays}from'date-fns';import'./HabitTracker.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const habitService=new HabitService();const CATEGORIES={mobility:{name:'Movement & Mobility',color:'#60a5fa'},connection:{name:'Connections',color:'#a855f7'},balance:{name:'Inner Balance',color:'#fbbf24'},joy:{name:'Joy & Play',color:'#f472b6'},strength:{name:'Strength Building',color:'#34d399'}};export const HabitTracker=_ref=>{let{userId}=_ref;const[habits,setHabits]=useState([]);const[sections,setSections]=useState([]);const[weekDates,setWeekDates]=useState([]);const[showHabitManager,setShowHabitManager]=useState(false);const[showInitializer,setShowInitializer]=useState(false);const[summaryStats,setSummaryStats]=useState({dueToday:0,overdue:0,doneToday:0,onTrack:0});useEffect(()=>{// Set up trailing 7 days (today and previous 6 days)\nconst today=new Date();const dates=[];for(let i=6;i>=0;i--){dates.push(addDays(today,-i));}setWeekDates(dates);// Don't use mock mode anymore - require real authentication\nif(false){// Use mock data for testing with default habits and some sample entries  \nconst today=new Date();const mockHabits=DEFAULT_HABITS.map((habit,index)=>{// Add some sample entries for demo\nconst entries=[];// Add sample entries for some habits\nif(habit.name==='Back Twists'){entries.push({id:'e1',habitId:\"mock-\".concat(index),userId,date:addDays(today,-6),value:2,createdAt:new Date()},{id:'e2',habitId:\"mock-\".concat(index),userId,date:addDays(today,-5),value:4,createdAt:new Date()},{id:'e3',habitId:\"mock-\".concat(index),userId,date:addDays(today,-4),value:4,createdAt:new Date()},{id:'e4',habitId:\"mock-\".concat(index),userId,date:addDays(today,-3),value:4,createdAt:new Date()});}else if(habit.name==='Shin Boxes'){entries.push({id:'e5',habitId:\"mock-\".concat(index),userId,date:addDays(today,-6),value:2,createdAt:new Date()},{id:'e6',habitId:\"mock-\".concat(index),userId,date:addDays(today,-4),value:1,createdAt:new Date()},{id:'e7',habitId:\"mock-\".concat(index),userId,date:addDays(today,-2),value:1,createdAt:new Date()});}else if(habit.name==='Juggling'){entries.push({id:'e8',habitId:\"mock-\".concat(index),userId,date:addDays(today,-6),value:3,createdAt:new Date()},{id:'e9',habitId:\"mock-\".concat(index),userId,date:addDays(today,-3),value:1,createdAt:new Date()});}else if(habit.name==='TGU 28KG'){entries.push({id:'e10',habitId:\"mock-\".concat(index),userId,date:addDays(today,-5),value:4,createdAt:new Date()},{id:'e11',habitId:\"mock-\".concat(index),userId,date:addDays(today,-2),value:5,createdAt:new Date()});}else if(habit.name==='Amelia Time'){entries.push({id:'e12',habitId:\"mock-\".concat(index),userId,date:addDays(today,-6),value:1,createdAt:new Date()},{id:'e13',habitId:\"mock-\".concat(index),userId,date:addDays(today,-4),value:1,createdAt:new Date()},{id:'e14',habitId:\"mock-\".concat(index),userId,date:addDays(today,-3),value:0.5,createdAt:new Date()});}const currentWeekCount=entries.reduce((sum,e)=>sum+e.value,0);let status='pending';if(currentWeekCount>=habit.targetPerWeek){status='met';}else if(habit.name==='Physical Mobility'||habit.name==='Cult Meditate'){status='today';}else if(habit.name==='Heavy Clubs 3x10'){status='overdue';}return{id:\"mock-\".concat(index),name:habit.name,category:habit.category,targetPerWeek:habit.targetPerWeek,userId:userId,createdAt:new Date(),updatedAt:new Date(),status,currentWeekCount,entries};});setHabits(mockHabits);// Group by category with mock habits\nconst categorySections=Object.keys(CATEGORIES).map(cat=>({category:cat,name:CATEGORIES[cat].name,color:CATEGORIES[cat].color,habits:mockHabits.filter(h=>h.category===cat),isCollapsed:cat==='balance'||cat==='joy'// Start some collapsed\n}));setSections(categorySections);// Set sample stats\nsetSummaryStats({dueToday:2,overdue:1,doneToday:0,onTrack:0});return;}// Subscribe to habits for real Firebase\nconst unsubscribe=habitService.subscribeToHabits(userId,async fetchedHabits=>{try{const habitsWithStatus=await habitService.getHabitsWithStatus(userId);setHabits(habitsWithStatus);// Check if user has no habits and show initializer\nif(habitsWithStatus.length===0&&!showInitializer){setShowInitializer(true);}// Group by category\nconst categorySections=Object.keys(CATEGORIES).map(cat=>({category:cat,name:CATEGORIES[cat].name,color:CATEGORIES[cat].color,habits:habitsWithStatus.filter(h=>h.category===cat),isCollapsed:cat==='balance'||cat==='joy'// Start some collapsed\n}));setSections(categorySections);// Calculate summary stats\nconst stats={dueToday:habitsWithStatus.filter(h=>h.status==='today').length,overdue:habitsWithStatus.filter(h=>h.status==='overdue').length,doneToday:habitsWithStatus.filter(h=>h.status==='done').length,onTrack:habitsWithStatus.filter(h=>h.status==='met').length};setSummaryStats(stats);}catch(error){console.error('Error fetching habits:',error);// Set defaults on error\nsetSections(Object.keys(CATEGORIES).map(cat=>({category:cat,name:CATEGORIES[cat].name,color:CATEGORIES[cat].color,habits:[],isCollapsed:cat==='balance'||cat==='joy'})));setSummaryStats({dueToday:0,overdue:0,doneToday:0,onTrack:0});}});return()=>unsubscribe();},[userId]);const toggleSection=category=>{setSections(prev=>prev.map(s=>s.category===category?_objectSpread(_objectSpread({},s),{},{isCollapsed:!s.isCollapsed}):s));};const expandAll=()=>{setSections(prev=>prev.map(s=>_objectSpread(_objectSpread({},s),{},{isCollapsed:false})));};const collapseAll=()=>{setSections(prev=>prev.map(s=>_objectSpread(_objectSpread({},s),{},{isCollapsed:true})));};const handleCellClick=async(habitId,date)=>{const habit=habits.find(h=>h.id===habitId);if(!habit)return;const existingEntry=habit.entries.find(e=>format(e.date,'yyyy-MM-dd')===format(date,'yyyy-MM-dd'));// Skip the mock mode code\nif(false){// Update local state for mock mode\nconst updatedHabits=habits.map(h=>{if(h.id!==habitId)return h;let newEntries=[...h.entries];if(existingEntry){// Cycle through values: number -> number+1 -> 0.5 -> 0 (remove)\nif(existingEntry.value>=1){if(existingEntry.value<5){newEntries=newEntries.map(e=>e.id===existingEntry.id?_objectSpread(_objectSpread({},e),{},{value:existingEntry.value+1}):e);}else{newEntries=newEntries.map(e=>e.id===existingEntry.id?_objectSpread(_objectSpread({},e),{},{value:0.5}):e);}}else if(existingEntry.value===0.5){newEntries=newEntries.filter(e=>e.id!==existingEntry.id);}}else{// Add new entry\nnewEntries.push({id:\"new-\".concat(Date.now()),habitId,userId,date,value:1,createdAt:new Date()});}const currentWeekCount=newEntries.reduce((sum,e)=>sum+e.value,0);let status=h.status;if(currentWeekCount>=h.targetPerWeek){status='met';}return _objectSpread(_objectSpread({},h),{},{entries:newEntries,currentWeekCount,status});});setHabits(updatedHabits);// Update sections\nconst categorySections=Object.keys(CATEGORIES).map(cat=>{var _sections$find;return{category:cat,name:CATEGORIES[cat].name,color:CATEGORIES[cat].color,habits:updatedHabits.filter(h=>h.category===cat),isCollapsed:((_sections$find=sections.find(s=>s.category===cat))===null||_sections$find===void 0?void 0:_sections$find.isCollapsed)||false};});setSections(categorySections);// Update stats\nsetSummaryStats({dueToday:updatedHabits.filter(h=>h.status==='today').length,overdue:updatedHabits.filter(h=>h.status==='overdue').length,doneToday:updatedHabits.filter(h=>h.status==='done').length,onTrack:updatedHabits.filter(h=>h.status==='met').length});return;}// Firebase mode - handle cycling through values\ntry{if(existingEntry){// Cycle through values: 1 -> 2 -> 3 -> 4 -> 5 -> 0.5 -> delete\nif(existingEntry.value>=1&&existingEntry.value<5){await habitService.updateEntry(existingEntry.id,existingEntry.value+1);}else if(existingEntry.value>=5){await habitService.updateEntry(existingEntry.id,0.5);}else if(existingEntry.value===0.5){await habitService.deleteEntry(existingEntry.id);}}else{// Create new entry with value 1\nawait habitService.addEntry({habitId,userId,date,value:1});}}catch(error){console.error('Error updating entry:',error);}};const getStatusIcon=status=>{switch(status){case'done':return'‚óè';case'met':return'‚úì';case'today':return'‚è∞';case'tomorrow':return'‚Üí';case'overdue':return'!';default:return'';}};const getCellContent=(habit,date)=>{const entry=habit.entries.find(e=>format(e.date,'yyyy-MM-dd')===format(date,'yyyy-MM-dd'));if(!entry)return'';if(entry.value===1)return'‚úì';if(entry.value===0.5)return'¬Ω';return entry.value>1?entry.value.toString():'';};const getCellClass=(habit,date)=>{const entry=habit.entries.find(e=>format(e.date,'yyyy-MM-dd')===format(date,'yyyy-MM-dd'));if(!entry)return'';if(entry.value>=1)return'completed';if(entry.value===0.5)return'partial';return'';};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"week-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"week-title\",children:[\"Last 7 Days \\u2022\",/*#__PURE__*/_jsx(\"span\",{className:\"current-day\",children:format(new Date(),'EEEE, MMM d')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"view-toggle\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"toggle-btn\",onClick:expandAll,children:\"Expand All\"}),/*#__PURE__*/_jsx(\"button\",{className:\"toggle-btn\",onClick:collapseAll,children:\"Collapse All\"}),/*#__PURE__*/_jsx(\"button\",{className:\"toggle-btn active\",children:\"Dense View\"}),/*#__PURE__*/_jsx(\"button\",{className:\"toggle-btn add-habit\",onClick:()=>setShowHabitManager(true),children:\"+ Add Habit\"}),habits.length===0&&/*#__PURE__*/_jsx(\"button\",{className:\"toggle-btn initialize\",onClick:()=>setShowInitializer(true),children:\"\\uD83D\\uDCE5 Load Default Habits\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-bar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"summary-label\",children:\"Due Today:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"summary-value value-today\",children:summaryStats.dueToday})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"summary-label\",children:\"Overdue:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"summary-value value-overdue\",children:summaryStats.overdue})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"summary-label\",children:\"Done Today:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"summary-value value-done\",children:summaryStats.doneToday})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"summary-label\",children:\"On Track:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"summary-value value-track\",children:summaryStats.onTrack})]})]}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"col-habit\",children:\"Habit\"}),/*#__PURE__*/_jsx(\"th\",{className:\"col-status\",children:\"\\u25CF\"}),weekDates.map(date=>/*#__PURE__*/_jsxs(\"th\",{className:\"col-day\",children:[format(date,'E')[0],/*#__PURE__*/_jsx(\"br\",{}),format(date,'d')]},date.toISOString())),/*#__PURE__*/_jsx(\"th\",{className:\"col-total\",children:\"Total\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:sections.map(section=>/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"tr\",{className:\"section-header\",onClick:()=>toggleSection(section.category),children:/*#__PURE__*/_jsx(\"td\",{colSpan:10,children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-title\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"section-arrow \".concat(section.isCollapsed?'collapsed':''),children:\"\\u25BC\"}),/*#__PURE__*/_jsx(\"span\",{className:\"section-indicator\",style:{background:section.color}}),section.name]}),section.isCollapsed&&/*#__PURE__*/_jsxs(\"div\",{className:\"section-summary\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"summary-stat\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"stat-value stat-\".concat(section.habits.filter(h=>h.status==='met').length>0?'good':section.habits.filter(h=>h.status==='today').length>0?'warn':'bad'),children:[section.habits.filter(h=>h.status==='met').length,\" met\"]})}),/*#__PURE__*/_jsxs(\"span\",{className:\"summary-stat\",children:[section.habits.reduce((sum,h)=>sum+h.currentWeekCount,0),\" total\"]})]})]})})}),!section.isCollapsed&&section.habits.map(habit=>/*#__PURE__*/_jsxs(\"tr\",{className:\"section-row\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"col-habit\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"habit-name\",children:[habit.name,/*#__PURE__*/_jsxs(\"span\",{className:\"habit-target\",children:[\"(\",habit.targetPerWeek,\"/w)\"]})]})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"status status-\".concat(habit.status),children:getStatusIcon(habit.status)})}),weekDates.map(date=>/*#__PURE__*/_jsx(\"td\",{className:getCellClass(habit,date),onClick:()=>handleCellClick(habit.id,date),style:{cursor:'pointer'},children:getCellContent(habit,date)},date.toISOString())),/*#__PURE__*/_jsxs(\"td\",{className:\"total total-\".concat(habit.currentWeekCount>=habit.targetPerWeek?'good':habit.currentWeekCount>0?'warn':'bad'),children:[habit.currentWeekCount,\"/\",habit.targetPerWeek]})]},habit.id))]},section.category))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"legend-strip\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"legend-item\",children:\"\\u25CF = done\"}),/*#__PURE__*/_jsx(\"div\",{className:\"legend-item\",children:\"\\u2713 = met target\"}),/*#__PURE__*/_jsx(\"div\",{className:\"legend-item\",children:\"\\u23F0 = due today\"}),/*#__PURE__*/_jsx(\"div\",{className:\"legend-item\",children:\"\\u2192 = tomorrow\"}),/*#__PURE__*/_jsx(\"div\",{className:\"legend-item\",children:\"! = overdue\"}),/*#__PURE__*/_jsx(\"div\",{className:\"legend-item\",children:\"\\xBD = partial\"})]}),showHabitManager&&/*#__PURE__*/_jsx(HabitManager,{userId:userId,onClose:()=>setShowHabitManager(false)}),showInitializer&&/*#__PURE__*/_jsx(InitializeHabits,{userId:userId,onComplete:()=>setShowInitializer(false)})]});};","map":{"version":3,"names":["React","useState","useEffect","HabitService","HabitManager","InitializeHabits","DEFAULT_HABITS","format","addDays","jsx","_jsx","jsxs","_jsxs","habitService","CATEGORIES","mobility","name","color","connection","balance","joy","strength","HabitTracker","_ref","userId","habits","setHabits","sections","setSections","weekDates","setWeekDates","showHabitManager","setShowHabitManager","showInitializer","setShowInitializer","summaryStats","setSummaryStats","dueToday","overdue","doneToday","onTrack","today","Date","dates","i","push","mockHabits","map","habit","index","entries","id","habitId","concat","date","value","createdAt","currentWeekCount","reduce","sum","e","status","targetPerWeek","category","updatedAt","categorySections","Object","keys","cat","filter","h","isCollapsed","unsubscribe","subscribeToHabits","fetchedHabits","habitsWithStatus","getHabitsWithStatus","length","stats","error","console","toggleSection","prev","s","_objectSpread","expandAll","collapseAll","handleCellClick","find","existingEntry","updatedHabits","newEntries","now","_sections$find","updateEntry","deleteEntry","addEntry","getStatusIcon","getCellContent","entry","toString","getCellClass","className","children","onClick","toISOString","section","Fragment","colSpan","style","display","justifyContent","alignItems","background","cursor","onClose","onComplete"],"sources":["/Users/idvorkin/gits/humane-tracker-1/humane-tracker/src/components/HabitTracker.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { HabitWithStatus, CategorySection, SummaryStats } from '../types/habit';\nimport { HabitService } from '../services/habitService';\nimport { HabitManager } from './HabitManager';\nimport { InitializeHabits } from './InitializeHabits';\nimport { DEFAULT_HABITS } from '../data/defaultHabits';\nimport { format, startOfWeek, addDays } from 'date-fns';\nimport './HabitTracker.css';\n\nconst habitService = new HabitService();\n\nconst CATEGORIES: { [key: string]: { name: string; color: string } } = {\n  mobility: { name: 'Movement & Mobility', color: '#60a5fa' },\n  connection: { name: 'Connections', color: '#a855f7' },\n  balance: { name: 'Inner Balance', color: '#fbbf24' },\n  joy: { name: 'Joy & Play', color: '#f472b6' },\n  strength: { name: 'Strength Building', color: '#34d399' }\n};\n\nexport const HabitTracker: React.FC<{ userId: string }> = ({ userId }) => {\n  const [habits, setHabits] = useState<HabitWithStatus[]>([]);\n  const [sections, setSections] = useState<CategorySection[]>([]);\n  const [weekDates, setWeekDates] = useState<Date[]>([]);\n  const [showHabitManager, setShowHabitManager] = useState(false);\n  const [showInitializer, setShowInitializer] = useState(false);\n  const [summaryStats, setSummaryStats] = useState<SummaryStats>({\n    dueToday: 0,\n    overdue: 0,\n    doneToday: 0,\n    onTrack: 0\n  });\n\n  useEffect(() => {\n    // Set up trailing 7 days (today and previous 6 days)\n    const today = new Date();\n    const dates = [];\n    for (let i = 6; i >= 0; i--) {\n      dates.push(addDays(today, -i));\n    }\n    setWeekDates(dates);\n\n    // Don't use mock mode anymore - require real authentication\n    if (false) {\n      // Use mock data for testing with default habits and some sample entries  \n      const today = new Date();\n      const mockHabits: HabitWithStatus[] = DEFAULT_HABITS.map((habit, index) => {\n        // Add some sample entries for demo\n        const entries = [];\n        \n        // Add sample entries for some habits\n        if (habit.name === 'Back Twists') {\n          entries.push(\n            { id: 'e1', habitId: `mock-${index}`, userId, date: addDays(today, -6), value: 2, createdAt: new Date() },\n            { id: 'e2', habitId: `mock-${index}`, userId, date: addDays(today, -5), value: 4, createdAt: new Date() },\n            { id: 'e3', habitId: `mock-${index}`, userId, date: addDays(today, -4), value: 4, createdAt: new Date() },\n            { id: 'e4', habitId: `mock-${index}`, userId, date: addDays(today, -3), value: 4, createdAt: new Date() }\n          );\n        } else if (habit.name === 'Shin Boxes') {\n          entries.push(\n            { id: 'e5', habitId: `mock-${index}`, userId, date: addDays(today, -6), value: 2, createdAt: new Date() },\n            { id: 'e6', habitId: `mock-${index}`, userId, date: addDays(today, -4), value: 1, createdAt: new Date() },\n            { id: 'e7', habitId: `mock-${index}`, userId, date: addDays(today, -2), value: 1, createdAt: new Date() }\n          );\n        } else if (habit.name === 'Juggling') {\n          entries.push(\n            { id: 'e8', habitId: `mock-${index}`, userId, date: addDays(today, -6), value: 3, createdAt: new Date() },\n            { id: 'e9', habitId: `mock-${index}`, userId, date: addDays(today, -3), value: 1, createdAt: new Date() }\n          );\n        } else if (habit.name === 'TGU 28KG') {\n          entries.push(\n            { id: 'e10', habitId: `mock-${index}`, userId, date: addDays(today, -5), value: 4, createdAt: new Date() },\n            { id: 'e11', habitId: `mock-${index}`, userId, date: addDays(today, -2), value: 5, createdAt: new Date() }\n          );\n        } else if (habit.name === 'Amelia Time') {\n          entries.push(\n            { id: 'e12', habitId: `mock-${index}`, userId, date: addDays(today, -6), value: 1, createdAt: new Date() },\n            { id: 'e13', habitId: `mock-${index}`, userId, date: addDays(today, -4), value: 1, createdAt: new Date() },\n            { id: 'e14', habitId: `mock-${index}`, userId, date: addDays(today, -3), value: 0.5, createdAt: new Date() }\n          );\n        }\n        \n        const currentWeekCount = entries.reduce((sum, e) => sum + e.value, 0);\n        let status: any = 'pending';\n        \n        if (currentWeekCount >= habit.targetPerWeek) {\n          status = 'met';\n        } else if (habit.name === 'Physical Mobility' || habit.name === 'Cult Meditate') {\n          status = 'today';\n        } else if (habit.name === 'Heavy Clubs 3x10') {\n          status = 'overdue';\n        }\n        \n        return {\n          id: `mock-${index}`,\n          name: habit.name,\n          category: habit.category,\n          targetPerWeek: habit.targetPerWeek,\n          userId: userId,\n          createdAt: new Date(),\n          updatedAt: new Date(),\n          status,\n          currentWeekCount,\n          entries\n        };\n      });\n      \n      setHabits(mockHabits);\n      \n      // Group by category with mock habits\n      const categorySections: CategorySection[] = Object.keys(CATEGORIES).map(cat => ({\n        category: cat as any,\n        name: CATEGORIES[cat].name,\n        color: CATEGORIES[cat].color,\n        habits: mockHabits.filter(h => h.category === cat),\n        isCollapsed: cat === 'balance' || cat === 'joy' // Start some collapsed\n      }));\n      setSections(categorySections);\n      \n      // Set sample stats\n      setSummaryStats({\n        dueToday: 2,\n        overdue: 1,\n        doneToday: 0,\n        onTrack: 0\n      });\n      \n      return;\n    }\n\n    // Subscribe to habits for real Firebase\n    const unsubscribe = habitService.subscribeToHabits(userId, async (fetchedHabits) => {\n      try {\n        const habitsWithStatus = await habitService.getHabitsWithStatus(userId);\n        setHabits(habitsWithStatus);\n        \n        // Check if user has no habits and show initializer\n        if (habitsWithStatus.length === 0 && !showInitializer) {\n          setShowInitializer(true);\n        }\n        \n        // Group by category\n        const categorySections: CategorySection[] = Object.keys(CATEGORIES).map(cat => ({\n          category: cat as any,\n          name: CATEGORIES[cat].name,\n          color: CATEGORIES[cat].color,\n          habits: habitsWithStatus.filter(h => h.category === cat),\n          isCollapsed: cat === 'balance' || cat === 'joy' // Start some collapsed\n        }));\n        setSections(categorySections);\n        \n        // Calculate summary stats\n        const stats: SummaryStats = {\n          dueToday: habitsWithStatus.filter(h => h.status === 'today').length,\n          overdue: habitsWithStatus.filter(h => h.status === 'overdue').length,\n          doneToday: habitsWithStatus.filter(h => h.status === 'done').length,\n          onTrack: habitsWithStatus.filter(h => h.status === 'met').length\n        };\n        setSummaryStats(stats);\n      } catch (error) {\n        console.error('Error fetching habits:', error);\n        // Set defaults on error\n        setSections(Object.keys(CATEGORIES).map(cat => ({\n          category: cat as any,\n          name: CATEGORIES[cat].name,\n          color: CATEGORIES[cat].color,\n          habits: [],\n          isCollapsed: cat === 'balance' || cat === 'joy'\n        })));\n        setSummaryStats({\n          dueToday: 0,\n          overdue: 0,\n          doneToday: 0,\n          onTrack: 0\n        });\n      }\n    });\n\n    return () => unsubscribe();\n  }, [userId]);\n\n  const toggleSection = (category: string) => {\n    setSections(prev => prev.map(s => \n      s.category === category ? { ...s, isCollapsed: !s.isCollapsed } : s\n    ));\n  };\n\n  const expandAll = () => {\n    setSections(prev => prev.map(s => ({ ...s, isCollapsed: false })));\n  };\n\n  const collapseAll = () => {\n    setSections(prev => prev.map(s => ({ ...s, isCollapsed: true })));\n  };\n\n  const handleCellClick = async (habitId: string, date: Date) => {\n    const habit = habits.find(h => h.id === habitId);\n    if (!habit) return;\n    \n    const existingEntry = habit.entries.find(e => \n      format(e.date, 'yyyy-MM-dd') === format(date, 'yyyy-MM-dd')\n    );\n    \n    // Skip the mock mode code\n    if (false) {\n      // Update local state for mock mode\n      const updatedHabits = habits.map(h => {\n        if (h.id !== habitId) return h;\n        \n        let newEntries = [...h.entries];\n        \n        if (existingEntry) {\n          // Cycle through values: number -> number+1 -> 0.5 -> 0 (remove)\n          if (existingEntry.value >= 1) {\n            if (existingEntry.value < 5) {\n              newEntries = newEntries.map(e => \n                e.id === existingEntry.id ? { ...e, value: existingEntry.value + 1 } : e\n              );\n            } else {\n              newEntries = newEntries.map(e => \n                e.id === existingEntry.id ? { ...e, value: 0.5 } : e\n              );\n            }\n          } else if (existingEntry.value === 0.5) {\n            newEntries = newEntries.filter(e => e.id !== existingEntry.id);\n          }\n        } else {\n          // Add new entry\n          newEntries.push({\n            id: `new-${Date.now()}`,\n            habitId,\n            userId,\n            date,\n            value: 1,\n            createdAt: new Date()\n          } as any);\n        }\n        \n        const currentWeekCount = newEntries.reduce((sum, e) => sum + e.value, 0);\n        let status = h.status;\n        if (currentWeekCount >= h.targetPerWeek) {\n          status = 'met';\n        }\n        \n        return { ...h, entries: newEntries, currentWeekCount, status };\n      });\n      \n      setHabits(updatedHabits);\n      \n      // Update sections\n      const categorySections: CategorySection[] = Object.keys(CATEGORIES).map(cat => ({\n        category: cat as any,\n        name: CATEGORIES[cat].name,\n        color: CATEGORIES[cat].color,\n        habits: updatedHabits.filter(h => h.category === cat),\n        isCollapsed: sections.find(s => s.category === cat)?.isCollapsed || false\n      }));\n      setSections(categorySections);\n      \n      // Update stats\n      setSummaryStats({\n        dueToday: updatedHabits.filter(h => h.status === 'today').length,\n        overdue: updatedHabits.filter(h => h.status === 'overdue').length,\n        doneToday: updatedHabits.filter(h => h.status === 'done').length,\n        onTrack: updatedHabits.filter(h => h.status === 'met').length\n      });\n      \n      return;\n    }\n    \n    // Firebase mode - handle cycling through values\n    try {\n      if (existingEntry) {\n        // Cycle through values: 1 -> 2 -> 3 -> 4 -> 5 -> 0.5 -> delete\n        if (existingEntry.value >= 1 && existingEntry.value < 5) {\n          await habitService.updateEntry(existingEntry.id, existingEntry.value + 1);\n        } else if (existingEntry.value >= 5) {\n          await habitService.updateEntry(existingEntry.id, 0.5);\n        } else if (existingEntry.value === 0.5) {\n          await habitService.deleteEntry(existingEntry.id);\n        }\n      } else {\n        // Create new entry with value 1\n        await habitService.addEntry({\n          habitId,\n          userId,\n          date,\n          value: 1\n        });\n      }\n    } catch (error) {\n      console.error('Error updating entry:', error);\n    }\n  };\n\n  const getStatusIcon = (status: string) => {\n    switch (status) {\n      case 'done': return '‚óè';\n      case 'met': return '‚úì';\n      case 'today': return '‚è∞';\n      case 'tomorrow': return '‚Üí';\n      case 'overdue': return '!';\n      default: return '';\n    }\n  };\n\n  const getCellContent = (habit: HabitWithStatus, date: Date) => {\n    const entry = habit.entries.find(e => \n      format(e.date, 'yyyy-MM-dd') === format(date, 'yyyy-MM-dd')\n    );\n    \n    if (!entry) return '';\n    if (entry.value === 1) return '‚úì';\n    if (entry.value === 0.5) return '¬Ω';\n    return entry.value > 1 ? entry.value.toString() : '';\n  };\n\n  const getCellClass = (habit: HabitWithStatus, date: Date) => {\n    const entry = habit.entries.find(e => \n      format(e.date, 'yyyy-MM-dd') === format(date, 'yyyy-MM-dd')\n    );\n    \n    if (!entry) return '';\n    if (entry.value >= 1) return 'completed';\n    if (entry.value === 0.5) return 'partial';\n    return '';\n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"week-header\">\n        <div className=\"week-title\">\n          Last 7 Days ‚Ä¢ \n          <span className=\"current-day\">{format(new Date(), 'EEEE, MMM d')}</span>\n        </div>\n        <div className=\"view-toggle\">\n          <button className=\"toggle-btn\" onClick={expandAll}>Expand All</button>\n          <button className=\"toggle-btn\" onClick={collapseAll}>Collapse All</button>\n          <button className=\"toggle-btn active\">Dense View</button>\n          <button className=\"toggle-btn add-habit\" onClick={() => setShowHabitManager(true)}>\n            + Add Habit\n          </button>\n          {habits.length === 0 && (\n            <button className=\"toggle-btn initialize\" onClick={() => setShowInitializer(true)}>\n              üì• Load Default Habits\n            </button>\n          )}\n        </div>\n      </div>\n\n      <div className=\"summary-bar\">\n        <div className=\"summary-item\">\n          <span className=\"summary-label\">Due Today:</span>\n          <span className=\"summary-value value-today\">{summaryStats.dueToday}</span>\n        </div>\n        <div className=\"summary-item\">\n          <span className=\"summary-label\">Overdue:</span>\n          <span className=\"summary-value value-overdue\">{summaryStats.overdue}</span>\n        </div>\n        <div className=\"summary-item\">\n          <span className=\"summary-label\">Done Today:</span>\n          <span className=\"summary-value value-done\">{summaryStats.doneToday}</span>\n        </div>\n        <div className=\"summary-item\">\n          <span className=\"summary-label\">On Track:</span>\n          <span className=\"summary-value value-track\">{summaryStats.onTrack}</span>\n        </div>\n      </div>\n\n      <table>\n        <thead>\n          <tr>\n            <th className=\"col-habit\">Habit</th>\n            <th className=\"col-status\">‚óè</th>\n            {weekDates.map(date => (\n              <th key={date.toISOString()} className=\"col-day\">\n                {format(date, 'E')[0]}<br/>\n                {format(date, 'd')}\n              </th>\n            ))}\n            <th className=\"col-total\">Total</th>\n          </tr>\n        </thead>\n        <tbody>\n          {sections.map(section => (\n            <React.Fragment key={section.category}>\n              <tr className=\"section-header\" onClick={() => toggleSection(section.category)}>\n                <td colSpan={10}>\n                  <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                    <div className=\"section-title\">\n                      <span className={`section-arrow ${section.isCollapsed ? 'collapsed' : ''}`}>‚ñº</span>\n                      <span \n                        className=\"section-indicator\" \n                        style={{ background: section.color }}\n                      />\n                      {section.name}\n                    </div>\n                    {section.isCollapsed && (\n                      <div className=\"section-summary\">\n                        <span className=\"summary-stat\">\n                          <span className={`stat-value stat-${\n                            section.habits.filter(h => h.status === 'met').length > 0 ? 'good' :\n                            section.habits.filter(h => h.status === 'today').length > 0 ? 'warn' : 'bad'\n                          }`}>\n                            {section.habits.filter(h => h.status === 'met').length} met\n                          </span>\n                        </span>\n                        <span className=\"summary-stat\">\n                          {section.habits.reduce((sum, h) => sum + h.currentWeekCount, 0)} total\n                        </span>\n                      </div>\n                    )}\n                  </div>\n                </td>\n              </tr>\n              {!section.isCollapsed && section.habits.map(habit => (\n                <tr key={habit.id} className=\"section-row\">\n                  <td className=\"col-habit\">\n                    <div className=\"habit-name\">\n                      {habit.name}\n                      <span className=\"habit-target\">({habit.targetPerWeek}/w)</span>\n                    </div>\n                  </td>\n                  <td>\n                    <span className={`status status-${habit.status}`}>\n                      {getStatusIcon(habit.status)}\n                    </span>\n                  </td>\n                  {weekDates.map(date => (\n                    <td \n                      key={date.toISOString()} \n                      className={getCellClass(habit, date)}\n                      onClick={() => handleCellClick(habit.id, date)}\n                      style={{ cursor: 'pointer' }}\n                    >\n                      {getCellContent(habit, date)}\n                    </td>\n                  ))}\n                  <td className={`total total-${\n                    habit.currentWeekCount >= habit.targetPerWeek ? 'good' :\n                    habit.currentWeekCount > 0 ? 'warn' : 'bad'\n                  }`}>\n                    {habit.currentWeekCount}/{habit.targetPerWeek}\n                  </td>\n                </tr>\n              ))}\n            </React.Fragment>\n          ))}\n        </tbody>\n      </table>\n\n      <div className=\"legend-strip\">\n        <div className=\"legend-item\">‚óè = done</div>\n        <div className=\"legend-item\">‚úì = met target</div>\n        <div className=\"legend-item\">‚è∞ = due today</div>\n        <div className=\"legend-item\">‚Üí = tomorrow</div>\n        <div className=\"legend-item\">! = overdue</div>\n        <div className=\"legend-item\">¬Ω = partial</div>\n      </div>\n\n      {showHabitManager && (\n        <HabitManager \n          userId={userId} \n          onClose={() => setShowHabitManager(false)} \n        />\n      )}\n      \n      {showInitializer && (\n        <InitializeHabits \n          userId={userId} \n          onComplete={() => setShowInitializer(false)} \n        />\n      )}\n    </div>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}