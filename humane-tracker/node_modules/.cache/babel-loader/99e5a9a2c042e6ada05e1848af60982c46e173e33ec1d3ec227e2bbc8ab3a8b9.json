{"ast":null,"code":"var _jsxFileName = \"/Users/idvorkin/gits/humane-tracker-1/humane-tracker/src/components/HabitTracker.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { HabitService } from '../services/habitService';\nimport { HabitManager } from './HabitManager';\nimport { format, startOfWeek, addDays } from 'date-fns';\nimport './HabitTracker.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst habitService = new HabitService();\nconst CATEGORIES = {\n  mobility: {\n    name: 'Movement & Mobility',\n    color: '#60a5fa'\n  },\n  connection: {\n    name: 'Connections',\n    color: '#a855f7'\n  },\n  balance: {\n    name: 'Inner Balance',\n    color: '#fbbf24'\n  },\n  joy: {\n    name: 'Joy & Play',\n    color: '#f472b6'\n  },\n  strength: {\n    name: 'Strength Building',\n    color: '#34d399'\n  }\n};\nexport const HabitTracker = ({\n  userId\n}) => {\n  _s();\n  const [habits, setHabits] = useState([]);\n  const [sections, setSections] = useState([]);\n  const [weekDates, setWeekDates] = useState([]);\n  const [showHabitManager, setShowHabitManager] = useState(false);\n  const [summaryStats, setSummaryStats] = useState({\n    dueToday: 0,\n    overdue: 0,\n    doneToday: 0,\n    onTrack: 0\n  });\n  useEffect(() => {\n    // Set up week dates\n    const today = new Date();\n    const weekStart = startOfWeek(today, {\n      weekStartsOn: 1\n    });\n    const dates = [];\n    for (let i = 6; i >= 0; i--) {\n      dates.push(addDays(weekStart, i));\n    }\n    setWeekDates(dates);\n\n    // Check if we're in mock mode (no Firebase)\n    const isMockMode = userId === 'test-user-123';\n    if (isMockMode) {\n      // Use mock data for testing\n\n      // Group by category with empty habits\n      const categorySections = Object.keys(CATEGORIES).map(cat => ({\n        category: cat,\n        name: CATEGORIES[cat].name,\n        color: CATEGORIES[cat].color,\n        habits: [],\n        isCollapsed: cat === 'balance' || cat === 'joy' // Start some collapsed\n      }));\n      setSections(categorySections);\n\n      // Set empty stats\n      setSummaryStats({\n        dueToday: 0,\n        overdue: 0,\n        doneToday: 0,\n        onTrack: 0\n      });\n      return;\n    }\n\n    // Subscribe to habits for real Firebase\n    const unsubscribe = habitService.subscribeToHabits(userId, async fetchedHabits => {\n      try {\n        const habitsWithStatus = await habitService.getHabitsWithStatus(userId);\n        setHabits(habitsWithStatus);\n\n        // Group by category\n        const categorySections = Object.keys(CATEGORIES).map(cat => ({\n          category: cat,\n          name: CATEGORIES[cat].name,\n          color: CATEGORIES[cat].color,\n          habits: habitsWithStatus.filter(h => h.category === cat),\n          isCollapsed: cat === 'balance' || cat === 'joy' // Start some collapsed\n        }));\n        setSections(categorySections);\n\n        // Calculate summary stats\n        const stats = {\n          dueToday: habitsWithStatus.filter(h => h.status === 'today').length,\n          overdue: habitsWithStatus.filter(h => h.status === 'overdue').length,\n          doneToday: habitsWithStatus.filter(h => h.status === 'done').length,\n          onTrack: habitsWithStatus.filter(h => h.status === 'met').length\n        };\n        setSummaryStats(stats);\n      } catch (error) {\n        console.error('Error fetching habits:', error);\n        // Set defaults on error\n        setSections(Object.keys(CATEGORIES).map(cat => ({\n          category: cat,\n          name: CATEGORIES[cat].name,\n          color: CATEGORIES[cat].color,\n          habits: [],\n          isCollapsed: cat === 'balance' || cat === 'joy'\n        })));\n        setSummaryStats({\n          dueToday: 0,\n          overdue: 0,\n          doneToday: 0,\n          onTrack: 0\n        });\n      }\n    });\n    return () => unsubscribe();\n  }, [userId]);\n  const toggleSection = category => {\n    setSections(prev => prev.map(s => s.category === category ? {\n      ...s,\n      isCollapsed: !s.isCollapsed\n    } : s));\n  };\n  const expandAll = () => {\n    setSections(prev => prev.map(s => ({\n      ...s,\n      isCollapsed: false\n    })));\n  };\n  const collapseAll = () => {\n    setSections(prev => prev.map(s => ({\n      ...s,\n      isCollapsed: true\n    })));\n  };\n  const handleCellClick = async (habitId, date) => {\n    const habit = habits.find(h => h.id === habitId);\n    if (!habit) return;\n    const existingEntry = habit.entries.find(e => format(e.date, 'yyyy-MM-dd') === format(date, 'yyyy-MM-dd'));\n    if (existingEntry) {\n      // Cycle through values: 1 -> 0.5 -> 0 (delete)\n      if (existingEntry.value === 1) {\n        await habitService.updateEntry(existingEntry.id, 0.5);\n      } else if (existingEntry.value === 0.5) {\n        await habitService.deleteEntry(existingEntry.id);\n      }\n    } else {\n      // Create new entry\n      await habitService.addEntry({\n        habitId,\n        userId,\n        date,\n        value: 1\n      });\n    }\n  };\n  const getStatusIcon = status => {\n    switch (status) {\n      case 'done':\n        return '●';\n      case 'met':\n        return '✓';\n      case 'today':\n        return '⏰';\n      case 'tomorrow':\n        return '→';\n      case 'overdue':\n        return '!';\n      default:\n        return '';\n    }\n  };\n  const getCellContent = (habit, date) => {\n    const entry = habit.entries.find(e => format(e.date, 'yyyy-MM-dd') === format(date, 'yyyy-MM-dd'));\n    if (!entry) return '';\n    if (entry.value === 1) return '✓';\n    if (entry.value === 0.5) return '½';\n    return entry.value > 1 ? entry.value.toString() : '';\n  };\n  const getCellClass = (habit, date) => {\n    const entry = habit.entries.find(e => format(e.date, 'yyyy-MM-dd') === format(date, 'yyyy-MM-dd'));\n    if (!entry) return '';\n    if (entry.value >= 1) return 'completed';\n    if (entry.value === 0.5) return 'partial';\n    return '';\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"week-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"week-title\",\n        children: [\"Week of \", weekDates.length > 0 ? format(weekDates[weekDates.length - 1], 'MMM d') : '...', \" \\u2022\", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"current-day\",\n          children: [\" \", format(new Date(), 'EEEE')]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"view-toggle\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"toggle-btn\",\n          onClick: expandAll,\n          children: \"Expand All\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"toggle-btn\",\n          onClick: collapseAll,\n          children: \"Collapse All\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"toggle-btn active\",\n          children: \"Dense View\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"toggle-btn add-habit\",\n          onClick: () => setShowHabitManager(true),\n          children: \"+ Add Habit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"summary-bar\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"summary-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"summary-label\",\n          children: \"Due Today:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"summary-value value-today\",\n          children: summaryStats.dueToday\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"summary-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"summary-label\",\n          children: \"Overdue:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"summary-value value-overdue\",\n          children: summaryStats.overdue\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"summary-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"summary-label\",\n          children: \"Done Today:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"summary-value value-done\",\n          children: summaryStats.doneToday\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"summary-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"summary-label\",\n          children: \"On Track:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"summary-value value-track\",\n          children: summaryStats.onTrack\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"col-habit\",\n            children: \"Habit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"col-status\",\n            children: \"\\u25CF\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this), weekDates.map(date => /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"col-day\",\n            children: [format(date, 'E')[0], /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 39\n            }, this), format(date, 'd')]\n          }, date.toISOString(), true, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 15\n          }, this)), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"col-total\",\n            children: \"Total\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: sections.map(section => /*#__PURE__*/_jsxDEV(React.Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"section-header\",\n            onClick: () => toggleSection(section.category),\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              colSpan: 10,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'center'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"section-title\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `section-arrow ${section.isCollapsed ? 'collapsed' : ''}`,\n                    children: \"\\u25BC\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 243,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"section-indicator\",\n                    style: {\n                      background: section.color\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 244,\n                    columnNumber: 23\n                  }, this), section.name]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 21\n                }, this), section.isCollapsed && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"section-summary\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"summary-stat\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: `stat-value stat-${section.habits.filter(h => h.status === 'met').length > 0 ? 'good' : section.habits.filter(h => h.status === 'today').length > 0 ? 'warn' : 'bad'}`,\n                      children: [section.habits.filter(h => h.status === 'met').length, \" met\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 253,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 252,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"summary-stat\",\n                    children: [section.habits.reduce((sum, h) => sum + h.currentWeekCount, 0), \" total\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 260,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 251,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 15\n          }, this), !section.isCollapsed && section.habits.map(habit => /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"section-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"col-habit\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"habit-name\",\n                children: [habit.name, /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"habit-target\",\n                  children: [\"(\", habit.targetPerWeek, \"/w)\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 273,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `status status-${habit.status}`,\n                children: getStatusIcon(habit.status)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 19\n            }, this), weekDates.map(date => /*#__PURE__*/_jsxDEV(\"td\", {\n              className: getCellClass(habit, date),\n              onClick: () => handleCellClick(habit.id, date),\n              style: {\n                cursor: 'pointer'\n              },\n              children: getCellContent(habit, date)\n            }, date.toISOString(), false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 21\n            }, this)), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: `total total-${habit.currentWeekCount >= habit.targetPerWeek ? 'good' : habit.currentWeekCount > 0 ? 'warn' : 'bad'}`,\n              children: [habit.currentWeekCount, \"/\", habit.targetPerWeek]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 19\n            }, this)]\n          }, habit.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 17\n          }, this))]\n        }, section.category, true, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"legend-strip\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"legend-item\",\n        children: \"\\u25CF = done\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"legend-item\",\n        children: \"\\u2713 = met target\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"legend-item\",\n        children: \"\\u23F0 = due today\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"legend-item\",\n        children: \"\\u2192 = tomorrow\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"legend-item\",\n        children: \"! = overdue\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"legend-item\",\n        children: \"\\xBD = partial\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 7\n    }, this), showHabitManager && /*#__PURE__*/_jsxDEV(HabitManager, {\n      userId: userId,\n      onClose: () => setShowHabitManager(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 187,\n    columnNumber: 5\n  }, this);\n};\n_s(HabitTracker, \"A2auC065GL+tANu6547LdiUk2V0=\");\n_c = HabitTracker;\nvar _c;\n$RefreshReg$(_c, \"HabitTracker\");","map":{"version":3,"names":["React","useState","useEffect","HabitService","HabitManager","format","startOfWeek","addDays","jsxDEV","_jsxDEV","habitService","CATEGORIES","mobility","name","color","connection","balance","joy","strength","HabitTracker","userId","_s","habits","setHabits","sections","setSections","weekDates","setWeekDates","showHabitManager","setShowHabitManager","summaryStats","setSummaryStats","dueToday","overdue","doneToday","onTrack","today","Date","weekStart","weekStartsOn","dates","i","push","isMockMode","categorySections","Object","keys","map","cat","category","isCollapsed","unsubscribe","subscribeToHabits","fetchedHabits","habitsWithStatus","getHabitsWithStatus","filter","h","stats","status","length","error","console","toggleSection","prev","s","expandAll","collapseAll","handleCellClick","habitId","date","habit","find","id","existingEntry","entries","e","value","updateEntry","deleteEntry","addEntry","getStatusIcon","getCellContent","entry","toString","getCellClass","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","toISOString","section","Fragment","colSpan","style","display","justifyContent","alignItems","background","reduce","sum","currentWeekCount","targetPerWeek","cursor","onClose","_c","$RefreshReg$"],"sources":["/Users/idvorkin/gits/humane-tracker-1/humane-tracker/src/components/HabitTracker.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { HabitWithStatus, CategorySection, SummaryStats } from '../types/habit';\nimport { HabitService } from '../services/habitService';\nimport { HabitManager } from './HabitManager';\nimport { format, startOfWeek, addDays } from 'date-fns';\nimport './HabitTracker.css';\n\nconst habitService = new HabitService();\n\nconst CATEGORIES: { [key: string]: { name: string; color: string } } = {\n  mobility: { name: 'Movement & Mobility', color: '#60a5fa' },\n  connection: { name: 'Connections', color: '#a855f7' },\n  balance: { name: 'Inner Balance', color: '#fbbf24' },\n  joy: { name: 'Joy & Play', color: '#f472b6' },\n  strength: { name: 'Strength Building', color: '#34d399' }\n};\n\nexport const HabitTracker: React.FC<{ userId: string }> = ({ userId }) => {\n  const [habits, setHabits] = useState<HabitWithStatus[]>([]);\n  const [sections, setSections] = useState<CategorySection[]>([]);\n  const [weekDates, setWeekDates] = useState<Date[]>([]);\n  const [showHabitManager, setShowHabitManager] = useState(false);\n  const [summaryStats, setSummaryStats] = useState<SummaryStats>({\n    dueToday: 0,\n    overdue: 0,\n    doneToday: 0,\n    onTrack: 0\n  });\n\n  useEffect(() => {\n    // Set up week dates\n    const today = new Date();\n    const weekStart = startOfWeek(today, { weekStartsOn: 1 });\n    const dates = [];\n    for (let i = 6; i >= 0; i--) {\n      dates.push(addDays(weekStart, i));\n    }\n    setWeekDates(dates);\n\n    // Check if we're in mock mode (no Firebase)\n    const isMockMode = userId === 'test-user-123';\n    \n    if (isMockMode) {\n      // Use mock data for testing\n      \n      // Group by category with empty habits\n      const categorySections: CategorySection[] = Object.keys(CATEGORIES).map(cat => ({\n        category: cat as any,\n        name: CATEGORIES[cat].name,\n        color: CATEGORIES[cat].color,\n        habits: [],\n        isCollapsed: cat === 'balance' || cat === 'joy' // Start some collapsed\n      }));\n      setSections(categorySections);\n      \n      // Set empty stats\n      setSummaryStats({\n        dueToday: 0,\n        overdue: 0,\n        doneToday: 0,\n        onTrack: 0\n      });\n      \n      return;\n    }\n\n    // Subscribe to habits for real Firebase\n    const unsubscribe = habitService.subscribeToHabits(userId, async (fetchedHabits) => {\n      try {\n        const habitsWithStatus = await habitService.getHabitsWithStatus(userId);\n        setHabits(habitsWithStatus);\n        \n        // Group by category\n        const categorySections: CategorySection[] = Object.keys(CATEGORIES).map(cat => ({\n          category: cat as any,\n          name: CATEGORIES[cat].name,\n          color: CATEGORIES[cat].color,\n          habits: habitsWithStatus.filter(h => h.category === cat),\n          isCollapsed: cat === 'balance' || cat === 'joy' // Start some collapsed\n        }));\n        setSections(categorySections);\n        \n        // Calculate summary stats\n        const stats: SummaryStats = {\n          dueToday: habitsWithStatus.filter(h => h.status === 'today').length,\n          overdue: habitsWithStatus.filter(h => h.status === 'overdue').length,\n          doneToday: habitsWithStatus.filter(h => h.status === 'done').length,\n          onTrack: habitsWithStatus.filter(h => h.status === 'met').length\n        };\n        setSummaryStats(stats);\n      } catch (error) {\n        console.error('Error fetching habits:', error);\n        // Set defaults on error\n        setSections(Object.keys(CATEGORIES).map(cat => ({\n          category: cat as any,\n          name: CATEGORIES[cat].name,\n          color: CATEGORIES[cat].color,\n          habits: [],\n          isCollapsed: cat === 'balance' || cat === 'joy'\n        })));\n        setSummaryStats({\n          dueToday: 0,\n          overdue: 0,\n          doneToday: 0,\n          onTrack: 0\n        });\n      }\n    });\n\n    return () => unsubscribe();\n  }, [userId]);\n\n  const toggleSection = (category: string) => {\n    setSections(prev => prev.map(s => \n      s.category === category ? { ...s, isCollapsed: !s.isCollapsed } : s\n    ));\n  };\n\n  const expandAll = () => {\n    setSections(prev => prev.map(s => ({ ...s, isCollapsed: false })));\n  };\n\n  const collapseAll = () => {\n    setSections(prev => prev.map(s => ({ ...s, isCollapsed: true })));\n  };\n\n  const handleCellClick = async (habitId: string, date: Date) => {\n    const habit = habits.find(h => h.id === habitId);\n    if (!habit) return;\n    \n    const existingEntry = habit.entries.find(e => \n      format(e.date, 'yyyy-MM-dd') === format(date, 'yyyy-MM-dd')\n    );\n    \n    if (existingEntry) {\n      // Cycle through values: 1 -> 0.5 -> 0 (delete)\n      if (existingEntry.value === 1) {\n        await habitService.updateEntry(existingEntry.id, 0.5);\n      } else if (existingEntry.value === 0.5) {\n        await habitService.deleteEntry(existingEntry.id);\n      }\n    } else {\n      // Create new entry\n      await habitService.addEntry({\n        habitId,\n        userId,\n        date,\n        value: 1\n      });\n    }\n  };\n\n  const getStatusIcon = (status: string) => {\n    switch (status) {\n      case 'done': return '●';\n      case 'met': return '✓';\n      case 'today': return '⏰';\n      case 'tomorrow': return '→';\n      case 'overdue': return '!';\n      default: return '';\n    }\n  };\n\n  const getCellContent = (habit: HabitWithStatus, date: Date) => {\n    const entry = habit.entries.find(e => \n      format(e.date, 'yyyy-MM-dd') === format(date, 'yyyy-MM-dd')\n    );\n    \n    if (!entry) return '';\n    if (entry.value === 1) return '✓';\n    if (entry.value === 0.5) return '½';\n    return entry.value > 1 ? entry.value.toString() : '';\n  };\n\n  const getCellClass = (habit: HabitWithStatus, date: Date) => {\n    const entry = habit.entries.find(e => \n      format(e.date, 'yyyy-MM-dd') === format(date, 'yyyy-MM-dd')\n    );\n    \n    if (!entry) return '';\n    if (entry.value >= 1) return 'completed';\n    if (entry.value === 0.5) return 'partial';\n    return '';\n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"week-header\">\n        <div className=\"week-title\">\n          Week of {weekDates.length > 0 ? format(weekDates[weekDates.length - 1], 'MMM d') : '...'} • \n          <span className=\"current-day\"> {format(new Date(), 'EEEE')}</span>\n        </div>\n        <div className=\"view-toggle\">\n          <button className=\"toggle-btn\" onClick={expandAll}>Expand All</button>\n          <button className=\"toggle-btn\" onClick={collapseAll}>Collapse All</button>\n          <button className=\"toggle-btn active\">Dense View</button>\n          <button className=\"toggle-btn add-habit\" onClick={() => setShowHabitManager(true)}>\n            + Add Habit\n          </button>\n        </div>\n      </div>\n\n      <div className=\"summary-bar\">\n        <div className=\"summary-item\">\n          <span className=\"summary-label\">Due Today:</span>\n          <span className=\"summary-value value-today\">{summaryStats.dueToday}</span>\n        </div>\n        <div className=\"summary-item\">\n          <span className=\"summary-label\">Overdue:</span>\n          <span className=\"summary-value value-overdue\">{summaryStats.overdue}</span>\n        </div>\n        <div className=\"summary-item\">\n          <span className=\"summary-label\">Done Today:</span>\n          <span className=\"summary-value value-done\">{summaryStats.doneToday}</span>\n        </div>\n        <div className=\"summary-item\">\n          <span className=\"summary-label\">On Track:</span>\n          <span className=\"summary-value value-track\">{summaryStats.onTrack}</span>\n        </div>\n      </div>\n\n      <table>\n        <thead>\n          <tr>\n            <th className=\"col-habit\">Habit</th>\n            <th className=\"col-status\">●</th>\n            {weekDates.map(date => (\n              <th key={date.toISOString()} className=\"col-day\">\n                {format(date, 'E')[0]}<br/>\n                {format(date, 'd')}\n              </th>\n            ))}\n            <th className=\"col-total\">Total</th>\n          </tr>\n        </thead>\n        <tbody>\n          {sections.map(section => (\n            <React.Fragment key={section.category}>\n              <tr className=\"section-header\" onClick={() => toggleSection(section.category)}>\n                <td colSpan={10}>\n                  <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                    <div className=\"section-title\">\n                      <span className={`section-arrow ${section.isCollapsed ? 'collapsed' : ''}`}>▼</span>\n                      <span \n                        className=\"section-indicator\" \n                        style={{ background: section.color }}\n                      />\n                      {section.name}\n                    </div>\n                    {section.isCollapsed && (\n                      <div className=\"section-summary\">\n                        <span className=\"summary-stat\">\n                          <span className={`stat-value stat-${\n                            section.habits.filter(h => h.status === 'met').length > 0 ? 'good' :\n                            section.habits.filter(h => h.status === 'today').length > 0 ? 'warn' : 'bad'\n                          }`}>\n                            {section.habits.filter(h => h.status === 'met').length} met\n                          </span>\n                        </span>\n                        <span className=\"summary-stat\">\n                          {section.habits.reduce((sum, h) => sum + h.currentWeekCount, 0)} total\n                        </span>\n                      </div>\n                    )}\n                  </div>\n                </td>\n              </tr>\n              {!section.isCollapsed && section.habits.map(habit => (\n                <tr key={habit.id} className=\"section-row\">\n                  <td className=\"col-habit\">\n                    <div className=\"habit-name\">\n                      {habit.name}\n                      <span className=\"habit-target\">({habit.targetPerWeek}/w)</span>\n                    </div>\n                  </td>\n                  <td>\n                    <span className={`status status-${habit.status}`}>\n                      {getStatusIcon(habit.status)}\n                    </span>\n                  </td>\n                  {weekDates.map(date => (\n                    <td \n                      key={date.toISOString()} \n                      className={getCellClass(habit, date)}\n                      onClick={() => handleCellClick(habit.id, date)}\n                      style={{ cursor: 'pointer' }}\n                    >\n                      {getCellContent(habit, date)}\n                    </td>\n                  ))}\n                  <td className={`total total-${\n                    habit.currentWeekCount >= habit.targetPerWeek ? 'good' :\n                    habit.currentWeekCount > 0 ? 'warn' : 'bad'\n                  }`}>\n                    {habit.currentWeekCount}/{habit.targetPerWeek}\n                  </td>\n                </tr>\n              ))}\n            </React.Fragment>\n          ))}\n        </tbody>\n      </table>\n\n      <div className=\"legend-strip\">\n        <div className=\"legend-item\">● = done</div>\n        <div className=\"legend-item\">✓ = met target</div>\n        <div className=\"legend-item\">⏰ = due today</div>\n        <div className=\"legend-item\">→ = tomorrow</div>\n        <div className=\"legend-item\">! = overdue</div>\n        <div className=\"legend-item\">½ = partial</div>\n      </div>\n\n      {showHabitManager && (\n        <HabitManager \n          userId={userId} \n          onClose={() => setShowHabitManager(false)} \n        />\n      )}\n    </div>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}