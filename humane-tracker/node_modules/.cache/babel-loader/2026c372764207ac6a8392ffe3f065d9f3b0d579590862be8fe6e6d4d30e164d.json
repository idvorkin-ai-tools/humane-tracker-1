{"ast":null,"code":"import React,{useState}from'react';import{HabitService}from'../services/habitService';import{DEFAULT_HABITS}from'../data/defaultHabits';import'./InitializeHabits.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const habitService=new HabitService();export const InitializeHabits=_ref=>{let{userId,onComplete}=_ref;const[loading,setLoading]=useState(false);const[progress,setProgress]=useState(0);const initializeDefaultHabits=async()=>{setLoading(true);setProgress(0);try{const total=DEFAULT_HABITS.length;for(let i=0;i<DEFAULT_HABITS.length;i++){const habit=DEFAULT_HABITS[i];await habitService.createHabit({name:habit.name,category:habit.category,targetPerWeek:habit.targetPerWeek,userId});setProgress(Math.round((i+1)/total*100));}onComplete();}catch(error){console.error('Error initializing habits:',error);alert('Failed to initialize habits. Please try again.');}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"initialize-habits\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"init-card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Welcome to Humane Tracker!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Would you like to start with the default habit set?\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"habit-count\",children:[DEFAULT_HABITS.length,\" habits across 5 categories\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"categories-preview\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"category-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"category-dot\",style:{background:'#60a5fa'}}),\"Physical Mobility (9 habits)\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"category-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"category-dot\",style:{background:'#a855f7'}}),\"Family & Connections (3 habits)\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"category-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"category-dot\",style:{background:'#fbbf24'}}),\"Emotional Balance (2 habits)\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"category-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"category-dot\",style:{background:'#f472b6'}}),\"Joy (5 habits)\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"category-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"category-dot\",style:{background:'#34d399'}}),\"Physical Strength (8 habits)\"]})]}),loading&&/*#__PURE__*/_jsxs(\"div\",{className:\"progress-bar\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"progress-fill\",style:{width:\"\".concat(progress,\"%\")}}),/*#__PURE__*/_jsxs(\"span\",{className:\"progress-text\",children:[progress,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"init-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-skip\",onClick:onComplete,disabled:loading,children:\"Skip for now\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-initialize\",onClick:initializeDefaultHabits,disabled:loading,children:loading?'Initializing...':'Initialize Default Habits'})]})]})});};","map":{"version":3,"names":["React","useState","HabitService","DEFAULT_HABITS","jsx","_jsx","jsxs","_jsxs","habitService","InitializeHabits","_ref","userId","onComplete","loading","setLoading","progress","setProgress","initializeDefaultHabits","total","length","i","habit","createHabit","name","category","targetPerWeek","Math","round","error","console","alert","className","children","style","background","width","concat","onClick","disabled"],"sources":["/Users/idvorkin/gits/humane-tracker-1/humane-tracker/src/components/InitializeHabits.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { HabitService } from '../services/habitService';\nimport { DEFAULT_HABITS } from '../data/defaultHabits';\nimport './InitializeHabits.css';\n\nconst habitService = new HabitService();\n\ninterface InitializeHabitsProps {\n  userId: string;\n  onComplete: () => void;\n}\n\nexport const InitializeHabits: React.FC<InitializeHabitsProps> = ({ userId, onComplete }) => {\n  const [loading, setLoading] = useState(false);\n  const [progress, setProgress] = useState(0);\n\n  const initializeDefaultHabits = async () => {\n    setLoading(true);\n    setProgress(0);\n    \n    try {\n      const total = DEFAULT_HABITS.length;\n      \n      for (let i = 0; i < DEFAULT_HABITS.length; i++) {\n        const habit = DEFAULT_HABITS[i];\n        await habitService.createHabit({\n          name: habit.name,\n          category: habit.category,\n          targetPerWeek: habit.targetPerWeek,\n          userId\n        });\n        setProgress(Math.round(((i + 1) / total) * 100));\n      }\n      \n      onComplete();\n    } catch (error) {\n      console.error('Error initializing habits:', error);\n      alert('Failed to initialize habits. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"initialize-habits\">\n      <div className=\"init-card\">\n        <h2>Welcome to Humane Tracker!</h2>\n        <p>Would you like to start with the default habit set?</p>\n        <p className=\"habit-count\">{DEFAULT_HABITS.length} habits across 5 categories</p>\n        \n        <div className=\"categories-preview\">\n          <div className=\"category-item\">\n            <span className=\"category-dot\" style={{ background: '#60a5fa' }}></span>\n            Physical Mobility (9 habits)\n          </div>\n          <div className=\"category-item\">\n            <span className=\"category-dot\" style={{ background: '#a855f7' }}></span>\n            Family & Connections (3 habits)\n          </div>\n          <div className=\"category-item\">\n            <span className=\"category-dot\" style={{ background: '#fbbf24' }}></span>\n            Emotional Balance (2 habits)\n          </div>\n          <div className=\"category-item\">\n            <span className=\"category-dot\" style={{ background: '#f472b6' }}></span>\n            Joy (5 habits)\n          </div>\n          <div className=\"category-item\">\n            <span className=\"category-dot\" style={{ background: '#34d399' }}></span>\n            Physical Strength (8 habits)\n          </div>\n        </div>\n        \n        {loading && (\n          <div className=\"progress-bar\">\n            <div className=\"progress-fill\" style={{ width: `${progress}%` }}></div>\n            <span className=\"progress-text\">{progress}%</span>\n          </div>\n        )}\n        \n        <div className=\"init-actions\">\n          <button \n            className=\"btn-skip\" \n            onClick={onComplete}\n            disabled={loading}\n          >\n            Skip for now\n          </button>\n          <button \n            className=\"btn-initialize\" \n            onClick={initializeDefaultHabits}\n            disabled={loading}\n          >\n            {loading ? 'Initializing...' : 'Initialize Default Habits'}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}